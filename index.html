<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NaxiWell Industrial & Hardware Supplier</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init({
                publicKey: "T31Zx7CvgUbLqKOjj",
            });
        })();
    </script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-tools"></i>
                    <span>NaxiWell Industrial</span>
                </div>
                <nav class="main-nav">
                    <a href="#products" class="nav-link active" data-i18n="nav_products">Products</a>
                    <a href="#about" class="nav-link" data-i18n="nav_about">About Us</a>
                    <a href="#contact" class="nav-link" data-i18n="nav_contact">Contact</a>
                </nav>
                <div class="header-actions">
                    <button class="lang-btn" id="langBtn">中文</button>
                    <button class="admin-btn" id="adminBtn">
                        <i class="fas fa-cog"></i>
                        <span data-i18n="nav_admin">Admin</span>
                    </button>
                    <button class="cart-btn" id="cartBtn">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title" data-i18n="hero_title">NaxiWell Industrial Quality Fasteners & Hardware</h1>
                <p class="hero-subtitle" data-i18n="hero_subtitle">Your trusted partner for industrial-grade fastening solutions. Quality guaranteed, delivered on time.</p>
                <div class="hero-cta">
                    <a href="#products" class="btn btn-primary btn-large" data-i18n="hero_browse">Browse Products</a>
                    <a href="#contact" class="btn btn-secondary btn-large" data-i18n="hero_contact">Contact Sales</a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <div class="section-header">
                <h2 data-i18n="about_title">About NaxiWell Industrial</h2>
                <p data-i18n="about_subtitle">Industry-leading fastening solutions since 2015</p>
            </div>
            <div class="about-content">
                <p class="about-description" data-i18n="about_description">
                    Changzhou Niuxiuwei Trading Co., Ltd. is a limited liability company established on 20 Oct 2015 and based at No. 96 Huaide South Road, Zhonglou District, Changzhou, China.
                    Guided by legal representative Ms. Tang Wenting, the company engages in the wholesale and retail of industrial hardware and related materials, including (non-hazardous) packaging and decorative materials, hardware & fasteners, building materials, electrical and lighting supplies, solar-related products, electronic products, machinery & equipment, and auto parts.
                    Where permitted by law, the company may conduct goods and technology import & export (items subject to approval are carried out after obtaining the required licenses).
                </p>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3 data-i18n="feature_quality_title">Quality Assurance</h3>
                        <p data-i18n="feature_quality_desc">Products aligned with relevant DIN/ISO/GB standards where applicable. Incoming inspection & pre-shipment checks to ensure consistency</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-truck"></i>
                        </div>
                        <h3 data-i18n="feature_delivery_title">Fast Delivery</h3>
                        <p data-i18n="feature_delivery_desc">Efficient supply and logistics network in the Yangtze River Delta. On-time dispatch commitment for common specifications</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-headset"></i>
                        </div>
                        <h3 data-i18n="feature_support_title">Expert Support</h3>
                        <p data-i18n="feature_support_desc">Application-oriented guidance on fastener selection and substitutions. Responsive service for quotations, samples, and technical questions</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="products-section">
        <div class="container">
            <div class="section-header">
                <h2 data-i18n="products_title">Our Products</h2>
                <p data-i18n="products_subtitle">Browse our extensive collection of fasteners and hardware</p>
            </div>

            <div class="products-layout">
                <!-- Sidebar -->
                <aside class="sidebar">
                    <div class="sidebar-section">
                        <h3 data-i18n="filter_categories">Categories</h3>
                        <div class="category-list" id="categoryList">
                            <!-- Categories will be loaded dynamically from database -->
                            <button class="category-btn active" data-category="all">
                                <i class="fas fa-th"></i> <span data-i18n="products_all">All Products</span>
                            </button>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h3>Filters</h3>
                        <div class="filter-group">
                            <label data-i18n="filter_material">Material</label>
                            <select id="materialFilter">
                                <option value="" data-i18n="filter_all_materials">All Materials</option>
                            </select>
                        </div>
                        <button class="btn btn-secondary btn-small" id="clearFilters" data-i18n="filter_clear">Clear Filters</button>
                    </div>
                </aside>

                <!-- Main Content -->
                <div class="products-main">
                    <div class="products-toolbar">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="searchInput" data-i18n="search_placeholder" placeholder="Search products...">
                        </div>
                        <div class="sort-box">
                            <label data-i18n="sort_label">Sort by:</label>
                            <select id="sortSelect">
                                <option value="name" data-i18n="sort_name">Name</option>
                                <option value="price-low" data-i18n="sort_price_low">Price: Low to High</option>
                                <option value="price-high" data-i18n="sort_price_high">Price: High to Low</option>
                            </select>
                        </div>
                    </div>

                    <div id="productsGrid" class="products-grid">
                        <!-- Products will be loaded here by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <div class="section-header">
                <h2 data-i18n="contact_title">Contact Us</h2>
                <p data-i18n="contact_subtitle">Get in touch for quotes, inquiries, or support</p>
            </div>
            <div class="contact-grid">
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <h4 data-i18n="contact_address">Address</h4>
                            <p data-i18n-html="contact_address_detail">No. 96 Huaide South Road, Zhonglou District<br>Changzhou, China</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <h4 data-i18n="contact_phone">Phone</h4>
                            <p>0404693189</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <h4 data-i18n="contact_email">Email</h4>
                            <p>zhangyanbin_1@hotmail.com</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <h4 data-i18n="contact_hours">Business Hours</h4>
                            <p data-i18n-html="contact_hours_detail">Monday - Friday: 8:00 AM - 6:00 PM<br>Saturday: 9:00 AM - 2:00 PM</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>NaxiWell Industrial</h4>
                    <p data-i18n="footer_tagline">Your trusted partner for quality hardware solutions since 2015.</p>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer_quick_links">Quick Links</h4>
                    <a href="#products" data-i18n="nav_products">Products</a>
                    <a href="#contact" data-i18n="nav_contact">Contact</a>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer_categories">Categories</h4>
                    <a href="#products">Screws</a>
                    <a href="#products">Bolts</a>
                    <a href="#products">Nuts</a>
                    <a href="#products">Washers</a>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer_follow">Follow Us</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p data-i18n="footer_copyright">&copy; 2025 NaxiWell Industrial. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="cart_title">Your Enquiry Cart</h3>
                <button class="close-btn" id="closeCart">&times;</button>
            </div>
            <div class="modal-body">
                <div id="cartItems"></div>
                <div class="cart-total">
                    <strong><span data-i18n="cart_total_items">Total Items:</span> <span id="totalItems">0</span></strong>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="closeCart2" data-i18n="cart_continue">Continue Shopping</button>
                <button class="btn btn-primary" id="proceedEnquiry" data-i18n="cart_proceed">Send Enquiry</button>
            </div>
        </div>
    </div>

    <!-- Enquiry Modal -->
    <div id="enquiryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="enquiry_title">Send Enquiry</h3>
                <button class="close-btn" id="closeEnquiry">&times;</button>
            </div>
            <div class="modal-body">
                <form id="enquiryForm">
                    <div class="form-group">
                        <label data-i18n="enquiry_name">Full Name</label> <span data-i18n="enquiry_required">*</span>
                        <input type="text" id="customerName" required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="enquiry_company">Company Name</label>
                        <input type="text" id="companyName">
                    </div>
                    <div class="form-group">
                        <label data-i18n="enquiry_email">Email</label> <span data-i18n="enquiry_required">*</span>
                        <input type="email" id="customerEmail" required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="enquiry_phone">Phone</label> <span data-i18n="enquiry_required">*</span>
                        <input type="tel" id="customerPhone" required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="enquiry_address">Address</label>
                        <textarea id="customerAddress" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label data-i18n="enquiry_notes">Additional Notes</label>
                        <textarea id="additionalNotes" rows="4"></textarea>
                    </div>
                    <div class="enquiry-summary">
                        <h4 data-i18n="enquiry_products">Selected Products</h4>
                        <div id="enquirySummary"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="closeEnquiry2" data-i18n="enquiry_cancel">Cancel</button>
                <button class="btn btn-primary" id="submitEnquiry" data-i18n="enquiry_submit">Submit Enquiry</button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3 data-i18n="admin_login_title">Admin Access</h3>
                <button class="close-btn" id="closeAdminLogin">&times;</button>
            </div>
            <div class="modal-body">
                <p class="admin-login-desc" data-i18n="admin_login_desc">Enter your 32-character admin key to access the management dashboard</p>
                <div class="form-group">
                    <label data-i18n="admin_login_key">Admin Key</label>
                    <input type="password" id="adminKeyInput" data-i18n="admin_login_placeholder" placeholder="Enter 32-character key" maxlength="32">
                </div>
                <div id="adminLoginError" class="error-message"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelAdminLogin" data-i18n="enquiry_cancel">Cancel</button>
                <button class="btn btn-primary" id="submitAdminLogin" data-i18n="admin_login_btn">Login</button>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="admin-dashboard">
        <div class="admin-container">
            <div class="admin-header">
                <div class="admin-logo">
                    <i class="fas fa-tools"></i>
                    <span data-i18n="admin_dashboard_title">Admin Dashboard</span>
                </div>
                <button class="btn btn-secondary" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> <span data-i18n="admin_logout">Logout</span>
                </button>
            </div>

            <div class="admin-content">
                <!-- Category & Material Management Section -->
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h2 data-i18n="admin_category_title">Category & Material Management</h2>
                    </div>
                    <div class="options-management">
                        <!-- Categories -->
                        <div class="options-group">
                            <h3 data-i18n="admin_categories">Categories</h3>
                            <div class="options-add">
                                <input type="text" id="newCategoryName" data-i18n="admin_category_name" placeholder="Category name (e.g., screws)">
                                <input type="text" id="newCategoryDisplay" data-i18n="admin_category_display" placeholder="Display name (e.g., Screws)">
                                <input type="text" id="newCategoryNameZh" data-i18n="admin_category_name_zh" placeholder="Chinese name (optional)">
                                <button class="btn btn-primary btn-small" onclick="addCategory()">
                                    <i class="fas fa-plus"></i> <span data-i18n="admin_add">Add</span>
                                </button>
                            </div>
                            <div id="categoriesList" class="options-list">
                                <!-- Categories will be loaded here -->
                            </div>
                        </div>

                        <!-- Materials -->
                        <div class="options-group">
                            <h3 data-i18n="admin_materials">Materials</h3>
                            <div class="options-add">
                                <input type="text" id="newMaterialName" data-i18n="admin_material_name" placeholder="Material name (e.g., stainless-steel)">
                                <input type="text" id="newMaterialDisplay" data-i18n="admin_material_display" placeholder="Display name (e.g., Stainless Steel)">
                                <input type="text" id="newMaterialNameZh" data-i18n="admin_material_name_zh" placeholder="Chinese name (optional)">
                                <button class="btn btn-primary btn-small" onclick="addMaterial()">
                                    <i class="fas fa-plus"></i> <span data-i18n="admin_add">Add</span>
                                </button>
                            </div>
                            <div id="materialsList" class="options-list">
                                <!-- Materials will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Management Section -->
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h2 data-i18n="admin_products_title">Product Management</h2>
                        <button class="btn btn-primary" id="addProductBtn">
                            <i class="fas fa-plus"></i> <span data-i18n="admin_add_product">Add New Product</span>
                        </button>
                    </div>

                    <!-- Admin Search -->
                    <div class="admin-search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="adminSearchInput" data-i18n="admin_search_placeholder" placeholder="Search products by name, category, material, size, price...">
                    </div>

                    <div id="adminProductsTable" class="admin-products-table">
                        <!-- Products table will be rendered here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Product Modal -->
    <div id="productFormModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="productFormTitle" data-i18n="product_form_add">Add New Product</h3>
                <button class="close-btn" id="closeProductForm">&times;</button>
            </div>
            <div class="modal-body">
                <form id="productForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label data-i18n="product_name">Product Name</label> <span data-i18n="enquiry_required">*</span>
                            <input type="text" id="productName" required>
                        </div>
                        <div class="form-group">
                            <label data-i18n="product_category_select">Category</label> <span data-i18n="enquiry_required">*</span>
                            <select id="productCategory" required>
                                <option value="" data-i18n="product_select_category">Select Category</option>
                                <!-- Options will be loaded dynamically from database -->
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label data-i18n="product_material_select">Material</label> <span data-i18n="enquiry_required">*</span>
                            <select id="productMaterial" required>
                                <option value="" data-i18n="product_select_material">Select Material</option>
                                <!-- Options will be loaded dynamically from database -->
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label data-i18n="product_price">Price ($)</label> <span data-i18n="enquiry_required">*</span>
                            <input type="number" id="productPrice" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label data-i18n="product_size_label">Size</label> <span data-i18n="enquiry_required">*</span>
                            <input type="text" id="productSize" data-i18n="product_size_placeholder" placeholder="e.g., M6 x 40mm" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label data-i18n="product_image">Product Image</label> <span data-i18n="enquiry_required">*</span>
                        <div class="image-upload-container">
                            <input type="file" id="productImageFile" accept="image/png,image/jpeg,image/jpg,image/webp" style="display: none;">
                            <button type="button" class="btn btn-secondary" id="selectImageBtn">
                                <i class="fas fa-upload"></i> <span data-i18n="product_image_choose">Choose Image</span>
                            </button>
                            <span id="imageFileName" style="margin-left: 10px; color: var(--text-gray);"></span>
                            <div id="imagePreview" style="margin-top: 10px; display: none;">
                                <img id="previewImg" style="max-width: 200px; max-height: 200px; border: 1px solid var(--border-color); border-radius: 4px;" alt="Preview">
                                <button type="button" class="btn btn-danger btn-small" id="removeImageBtn" style="display: block; margin-top: 5px;">
                                    <i class="fas fa-times"></i> <span data-i18n="product_image_remove">Remove Image</span>
                                </button>
                            </div>
                            <small style="display: block; margin-top: 5px; color: var(--text-gray);" data-i18n="product_image_format">
                                Supported formats: PNG, JPG, JPEG, WebP (Max 20MB)
                            </small>
                        </div>
                    </div>

                    <div class="form-group">
                        <label data-i18n="product_description">Description</label> <span data-i18n="enquiry_required">*</span>
                        <textarea id="productDescription" rows="4" required></textarea>
                    </div>

                    <div class="form-group">
                        <label data-i18n="product_description_zh">Chinese Description (optional)</label>
                        <textarea id="productDescriptionZh" rows="4"></textarea>
                    </div>

                    <input type="hidden" id="productId">
                    <input type="hidden" id="productImageUrl">
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelProductForm" data-i18n="product_cancel">Cancel</button>
                <button class="btn btn-primary" id="saveProduct" data-i18n="product_save">Save Product</button>
            </div>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="modalProductName"></h3>
                <button class="close-btn" id="closeProduct">&times;</button>
            </div>
            <div class="modal-body">
                <div class="product-detail-grid">
                    <div class="product-image-section">
                        <img id="modalProductImage" src="" alt="">
                    </div>
                    <div class="product-info-section">
                        <div class="product-price" id="modalProductPrice"></div>
                        <div class="product-specs">
                            <h4 data-i18n="product_specifications">Specifications</h4>
                            <div id="modalProductSpecs"></div>
                        </div>
                        <div class="product-description" id="modalProductDescription"></div>
                        <div class="quantity-selector">
                            <label data-i18n="product_quantity">Quantity:</label>
                            <div class="quantity-controls">
                                <button class="qty-btn" id="decreaseQty">-</button>
                                <input type="number" id="quantityInput" value="1" min="1">
                                <button class="qty-btn" id="increaseQty">+</button>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-large" id="addToCartBtn" data-i18n="product_add_cart">Add to Enquiry Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Optional Environment Variables (will be ignored if not found) -->
    <script>
        // Try to load env.js if it exists (for local development)
        const envScript = document.createElement('script');
        envScript.src = 'env.js';
        envScript.onerror = () => console.log('No env.js found, using default config');
        document.head.appendChild(envScript);
    </script>
    <!-- Configuration (must load after env.js attempt) -->
    <script src="config.js"></script>
    <!-- Supabase Client Configuration -->
    <script src="supabase-client.js"></script>
    <!-- Internationalization (i18n) -->
    <script src="i18n.js"></script>
    <!-- Main Application Script -->
    <script src="script.js"></script>
</body>
</html>